{"ast":null,"code":"// import React, { useState, useEffect } from \"react\";\n// import { Link, useLocation } from \"react-router-dom\";\n// import { Carousel } from \"react-bootstrap\";\n// import Biddersidebar from \"./Biddersidebar\";\n// import Biddernavbar from \"./Biddernavbar\";\n// import Clock from \"../Clock\";\n// import Alert from \"./Alert\";\n// import CountdownTimer from \"./CountdownTimer\";\n// import { toast } from 'react-toastify';\n// import 'react-toastify/dist/ReactToastify.css';\n\n// function Bidderauctionview({ user }) {\n//   const location = useLocation();\n//   const [data, setData] = useState({ Images: [] });\n//   const [bidAmount, setBidAmount] = useState(0);\n//   const [bidError, setBidError] = useState(\"\");\n//   const [auctionResult, setAuctionResult] = useState(null);\n\n//   const airway = {\n//     color: '#00cccc',\n//   };\n//   const fetchData = async () => {\n//     try {\n//       const response = await fetch(`http://localhost:4000/viewproductbyid`, {\n//         method: 'post',\n//         headers: {\n//           'Content-Type': 'application/json',\n//         },\n//         body: JSON.stringify({ id: location.state.id }),\n//       });\n\n//       const result = await response.json();\n//       setData(result);\n//       console.log(result);\n//     } catch (error) {\n//       console.error('Error fetching product data:', error);\n//     }\n//   };\n\n//   useEffect(() => {\n//     fetchData();\n//   }, [location.state.id,auctionResult]);\n\n//   const submitBid = async (e) => {\n//     e.preventDefault();\n\n//     try {\n//       const response = await fetch(`http://localhost:4000/submitbid/${location.state.id}/${bidAmount}`, {\n//         method: 'post',\n//         headers: {\n//           'Content-Type': 'application/json',\n//         },\n//         body: JSON.stringify({ bidderName: user.name }),\n//       });\n\n//       const result = await response.json();\n\n//       if (result.success) {\n// \t\ttoast.success(`Bid amount of Rs.${bidAmount} submitted successfully`, {\n// \t\t\tposition: 'top-right',\n// \t\t\tautoClose: 2000,\n// \t\t});\n//         console.log('Bid submitted successfully');\n//         fetchData();\n// \t\tsetBidAmount(0)\n// \t\tsetBidError('')\n//       } else {\n//         setBidError(result.message);\n//       }\n//     } catch (error) {\n//       console.error('Error submitting bid:', error);\n//     }\n//   };\n\n//   useEffect(() => {\n//     if (data.EndTime && data.BidderName) {\n//       const timer = setInterval(() => {\n//         const now = new Date();\n//         const endTime = new Date(`${data.AuctionDate} ${data.EndTime}`);\n\n//         if (now > endTime) {\n//           if (user.name === data.BidderName || !data.BidderName) {\n// \t\t\tsetAuctionResult('Congratulations! You are the winner!');\n// \t\t  } else {\n// \t\t\tsetAuctionResult(`The winner is ${data.BidderName}`);\n// \t\t  }\n//         }\n//       }, 1000);\n\n//       return () => clearInterval(timer);\n//     }\n//   }, [data, user]);\n\n//   return (\n//     <>\n//       <Biddersidebar user={user} />\n//       <div className=\"content\">\n//         <Biddernavbar user={user} />\n//         <Clock />\n//         <Alert />\n\n//         <div className=\"col-sm-12 col-xl-12\" style={{ margin: '2px' }}>\n//           <div className=\"bg-light rounded h-100 p-4\">\n//             <h3 className=\"mb-4\" style={airway}>\n//               Active Product Details\n//             </h3>\n//             <div className=\"row\">\n//               <div className=\"col-md-6\">\n//                 <p>\n//                   <b style={airway}>Product Name:</b>\n//                   {data.ProductName}\n//                 </p>\n//                 <p>\n//                   <b style={airway}>Description: </b>\n//                   {data.Description}\n//                 </p>\n//                 <p>\n//                   <b style={airway}>Manufacturing Date:</b> {data.Date}\n//                 </p>\n//                 <p>\n//                   <b style={airway}>Category:</b> {data.Category}\n//                 </p>\n//                 <p>\n//                   <b style={airway}>Seller Name:</b> {data.Username}\n//                 </p>\n//                 <p>\n//                   <b style={airway}>Minimum Bid Amount: </b>\n//                   {data.Minamount}\n//                 </p>\n//                 {data.BidAmount && (\n//                   <p>\n//                     <b style={airway}>Bid Amount: </b>\n//                     {data.BidAmount}\n//                   </p>\n//                 )}\n//               </div>\n//               <div className=\"col-md-6\">\n//                 <Carousel interval={1000}>\n//                   {data.Images.map((image, index) => (\n//                     <Carousel.Item key={index}>\n//                       <img\n//                         className=\"d-block w-100\"\n//                         style={{ width: '300px', height: '300px' }}\n//                         src={`http://localhost:4000/${image}`}\n//                         alt={`Slide ${index}`}\n//                       />\n//                     </Carousel.Item>\n//                   ))}\n//                 </Carousel>\n//               </div>\n//             </div>\n//           </div>\n//         </div>\n\n// \t\t<div className=\"col-sm-12 col-xl-12\" style={{ margin: '5px' }}>\n// \t\t\t<div className=\"bg-light rounded h-100 p-4\" style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n// \t\t\t\t{auctionResult ? (\n// \t\t\t\t\t<>\n// \t\t\t\t\t\t<p style={{ fontSize: '20px', fontWeight: 'bold',marginRight:'15px' }}>{auctionResult}</p>\n// \t\t\t\t\t\t{auctionResult === \"Congratulations! You are the winner!\" \n// \t\t\t\t\t\t\t&& ( <Link to=\"/pay\" state={{ id: data._id  ,amount:data.BidAmount,image:data.Images[0]}} >Pay Now</Link>)\n// \t\t\t\t\t\t}\n// \t\t\t\t\t</>\n// \t\t\t\t) : (\n// \t\t\t\t<form onSubmit={submitBid}>\n// \t\t\t\t\t<label htmlFor=\"bidAmount\">\n// \t\t\t\t\t<b style={airway}>\n// \t\t\t\t\t\t<span style={{ fontSize: '25px', marginRight: '20px' }}>Enter Bid Amount:</span>\n// \t\t\t\t\t</b>\n// \t\t\t\t\t</label>\n// \t\t\t\t\t<input\n// \t\t\t\t\ttype=\"number\"\n// \t\t\t\t\tid=\"bidAmount\"\n// \t\t\t\t\tvalue={bidAmount}\n// \t\t\t\t\tonChange={(e) => setBidAmount(e.target.value)}\n// \t\t\t\t\trequired\n// \t\t\t\t\tstyle={{ border: '2px solid #00cccc', height: '35px ' }}\n// \t\t\t\t\t/>\n// \t\t\t\t\t<button type=\"submit\" style={{ backgroundColor: '#00cccc', border: 'none', height: '35px' }}>\n// \t\t\t\t\tSubmit Bid\n// \t\t\t\t\t</button>\n// \t\t\t\t\t{bidError && <p style={{ color: 'red' }}>{bidError}</p>}\n// \t\t\t\t</form>\n// \t\t\t\t)}\n// \t\t\t</div>\n// \t\t</div>\n\n// \t\t<div className=\"bg-light rounded h-100 p-4\" style={{ margin: '5px' }}>\n// \t\t\t<div style={{display:'flex',justifyContent:'space-between'}}>\n// \t\t\t\t<h3 className=\"mb-4\" style={airway}>Bidding Status</h3>\n// \t\t\t\t<CountdownTimer startTime={data.StartTime} endTime={data.EndTime} />\n// \t\t\t</div>\n// \t\t\t{data.bids && data.bids.length > 0 ? (\n// \t\t\t\t<table className=\"table table-bordered\" style={{ border: '2px solid #00cccc' }}>\n// \t\t\t\t<thead style={airway}>\n// \t\t\t\t\t<tr>\n// \t\t\t\t\t<th scope=\"col\">S.No</th>\n// \t\t\t\t\t<th scope=\"col\">Bidder Name</th>\n// \t\t\t\t\t<th scope=\"col\">Bid Amount</th>\n// \t\t\t\t\t</tr>\n// \t\t\t\t</thead>\n// \t\t\t\t<tbody>\n// \t\t\t\t\t{data.bids.map((bid, index) => (\n// \t\t\t\t\t<tr key={index}>\n// \t\t\t\t\t\t<td>{index + 1}</td>\n// \t\t\t\t\t\t<td>{bid.bidderName}</td>\n// \t\t\t\t\t\t<td>{bid.bidAmount}</td>\n// \t\t\t\t\t</tr>\n// \t\t\t\t\t))}\n// \t\t\t\t</tbody>\n// \t\t\t\t</table>\n// \t\t\t) : (\n// \t\t\t\t<div style={{ textAlign: 'center', padding: '20px', background: '#F0FFFF', color: '#721c24', borderRadius: '10px', border: '2px solid #ADD8E6', boxShadow: '0 0 10px rgba(0, 0, 0, 0.1)' }}>\n// \t\t\t\t\t<p style={{ fontSize: '20px', fontWeight: 'bold', marginBottom: '10px' }}>No bids yet.</p>\n// \t\t\t\t\t<p style={{ fontSize: '16px', color: '#721c24' }}><b>Start bidding</b></p>\n// \t\t\t\t</div>\n// \t\t\t)}\n// \t\t\t<div>\n// \t\t\t\t<Link to=\"/bidderactiveauction\">Back</Link>\n// \t\t\t</div>\n// \t\t</div>\n\n//         <Clock />\n//       </div>\n//     </>\n//   );\n// }\n\n// export default Bidderauctionview;\n\n// import React, { useState, useEffect } from \"react\";\n// import { Link, useLocation, useNavigate } from \"react-router-dom\";\n// import { Carousel } from \"react-bootstrap\";\n// import Biddersidebar from \"./Biddersidebar\";\n// import Biddernavbar from \"./Biddernavbar\";\n// import Clock from \"../Clock\";\n// import Alert from \"./Alert\";\n// import CountdownTimer from \"./CountdownTimer\";\n// import { toast } from \"react-toastify\";\n// import \"react-toastify/dist/ReactToastify.css\";\n\n// function Bidderauctionview({ user }) {\n//   const location = useLocation();\n//   const navigate = useNavigate();\n\n//   const [data, setData] = useState({ Images: [] });\n//   const [bidAmount, setBidAmount] = useState(0);\n//   const [bidError, setBidError] = useState(\"\");\n//   const [auctionResult, setAuctionResult] = useState(null);\n\n//   const airway = {\n//     color: '#00cccc',\n//   };\n\n//   const fetchData = async () => {\n//     try {\n//       const response = await fetch(`http://localhost:4000/viewproductbyid`, {\n//         method: 'post',\n//         headers: {\n//           'Content-Type': 'application/json',\n//         },\n//         body: JSON.stringify({ id: location.state.id }),\n//       });\n\n//       const result = await response.json();\n//       setData(result);\n//       console.log(result);\n//     } catch (error) {\n//       console.error('Error fetching product data:', error);\n//     }\n//   };\n\n//   useEffect(() => {\n//     fetchData();\n//   }, [location.state.id, auctionResult]);\n\n//   const submitBid = async (e) => {\n//     e.preventDefault();\n\n//     try {\n//       const response = await fetch(`http://localhost:4000/submitbid/${location.state.id}/${bidAmount}`, {\n//         method: 'post',\n//         headers: {\n//           'Content-Type': 'application/json',\n//         },\n//         body: JSON.stringify({ bidderName: user.name }),\n//       });\n\n//       const result = await response.json();\n\n//       if (result.success) {\n//         toast.success(`Bid amount of Rs.${bidAmount} submitted successfully`, {\n//           position: 'top-right',\n//           autoClose: 2000,\n//         });\n\n//         if (result.payNow) {\n//           // Redirect to the payment page with necessary data\n//           navigate(\"/pay\", {\n//             state: {\n//               id: data._id,\n//               amount: data.BidAmount,\n\n//             },\n//           });\n//         }\n\n//         fetchData();\n//         setBidAmount(0);\n//         setBidError('');\n//       } else {\n//         setBidError(result.message);\n//       }\n//     } catch (error) {\n//       console.error('Error submitting bid:', error);\n//     }\n//   };\n\n//   useEffect(() => {\n//     if (data.EndTime && data.BidderName) {\n//       const timer = setInterval(() => {\n//         const now = new Date();\n//         const endTime = new Date(`${data.AuctionDate} ${data.EndTime}`);\n\n//         if (now > endTime) {\n//           if (user.name === data.BidderName || !data.BidderName) {\n//             setAuctionResult('Congratulations! You are the winner!');\n//           } else {\n//             setAuctionResult(`The winner is ${data.BidderName}`);\n//           }\n//         }\n//       }, 1000);\n\n//       return () => clearInterval(timer);\n//     }\n//   }, [data, user]);\n\n//   return (\n//     <>\n//       <Biddersidebar user={user} />\n//       <div className=\"content\">\n//         <Biddernavbar user={user} />\n//         <Clock />\n//         <Alert />\n\n//         <div className=\"col-sm-12 col-xl-12\" style={{ margin: '2px' }}>\n// \t\t    <div className=\"bg-light rounded h-100 p-4\">\n//              <h3 className=\"mb-4\" style={airway}>\n//                Active Product Details\n//              </h3>\n//              <div className=\"row\">\n//                <div className=\"col-md-6\">\n//                  <p>\n//                    <b style={airway}>Product Name:</b>\n//                    {data.ProductName}\n//                  </p>\n//                  <p>\n//                    <b style={airway}>Description: </b>\n//                    {data.Description}\n//                  </p>\n//                  <p>\n//                    <b style={airway}>Manufacturing Date:</b> {data.Date}\n//                  </p>\n//                  <p>\n//                    <b style={airway}>Category:</b> {data.Category}\n//                  </p>\n//                  <p>\n//                    <b style={airway}>Seller Name:</b> {data.Username}\n//                  </p>\n//                  <p>\n//                    <b style={airway}>Minimum Bid Amount: </b>\n//                    {data.Minamount}\n//                  </p>\n//                  {data.BidAmount && (\n//                    <p>\n//                      <b style={airway}>Bid Amount: </b>\n//                      {data.BidAmount}\n//                    </p>\n//                  )}\n//                </div>\n//                <div className=\"col-md-6\">\n//                  <Carousel interval={1000}>\n//                    {data.Images.map((image, index) => (\n//                      <Carousel.Item key={index}>\n//                        <img\n//                          className=\"d-block w-100\"\n//                          style={{ width: '300px', height: '300px' }}\n//                          src={`http:localhost:4000/${image}`}\n//                          alt={`Slide ${index}`}\n//                        />\n//                      </Carousel.Item>\n//                    ))}\n//                  </Carousel>\n//                </div>\n//              </div>\n//            </div>\n//         </div>\n\n//         <div className=\"col-sm-12 col-xl-12\" style={{ margin: '5px' }}>\n//           <div\n//             className=\"bg-light rounded h-100 p-4\"\n//             style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}\n//           >\n//             {auctionResult ? (\n//               <>\n//                 <p style={{ fontSize: '20px', fontWeight: 'bold', marginRight: '15px' }}>{auctionResult}</p>\n//                 {auctionResult === \"Congratulations! You are the winner!\" && (\n//                   <Link to=\"/pay\">Pay Now</Link>\n//                 )}\n//               </>\n//             ) : (\n//               <form onSubmit={submitBid}>\n//                 <label htmlFor=\"bidAmount\">\n//                   <b style={airway}>\n//                     <span style={{ fontSize: '25px', marginRight: '20px' }}>Enter Bid Amount:</span>\n//                   </b>\n//                 </label>\n//                 <input\n//                   type=\"number\"\n//                   id=\"bidAmount\"\n//                   value={bidAmount}\n//                   onChange={(e) => setBidAmount(e.target.value)}\n//                   required\n//                   style={{ border: '2px solid #00cccc', height: '35px ' }}\n//                 />\n//                 <button type=\"submit\" style={{ backgroundColor: '#00cccc', border: 'none', height: '35px' }}>\n//                   Submit Bid\n//                 </button>\n//                 {bidError && <p style={{ color: 'red' }}>{bidError}</p>}\n//               </form>\n//             )}\n//           </div>\n//         </div>\n\n//         <div className=\"bg-light rounded h-100 p-4\" style={{ margin: '5px' }}>\n// \t\t<div style={{display:'flex',justifyContent:'space-between'}}>\n//  \t\t\t\t<h3 className=\"mb-4\" style={airway}>Bidding Status</h3>\n//  \t\t\t\t<CountdownTimer startTime={data.StartTime} endTime={data.EndTime} />\n//  \t\t\t</div>\n//  \t\t\t{data.bids && data.bids.length > 0 ? (\n//  \t\t\t\t<table className=\"table table-bordered\" style={{ border: '2px solid #00cccc' }}>\n//  \t\t\t\t<thead style={airway}>\n//  \t\t\t\t\t<tr>\n//  \t\t\t\t\t<th scope=\"col\">S.No</th>\n//  \t\t\t\t\t<th scope=\"col\">Bidder Name</th>\n//  \t\t\t\t\t<th scope=\"col\">Bid Amount</th>\n//  \t\t\t\t\t</tr>\n//  \t\t\t\t</thead>\n//  \t\t\t\t<tbody>\n//  \t\t\t\t\t{data.bids.map((bid, index) => (\n//  \t\t\t\t\t<tr key={index}>\n//  \t\t\t\t\t\t<td>{index + 1}</td>\n//  \t\t\t\t\t\t<td>{bid.bidderName}</td>\n//  \t\t\t\t\t\t<td>{bid.bidAmount}</td>\n//  \t\t\t\t\t</tr>\n//  \t\t\t\t\t))}\n//  \t\t\t\t</tbody>\n//  \t\t\t\t</table>\n//  \t\t\t) : (\n//  \t\t\t\t<div style={{ textAlign: 'center', padding: '20px', background: '#F0FFFF', color: '#721c24', borderRadius: '10px', border: '2px solid #ADD8E6', boxShadow: '0 0 10px rgba(0, 0, 0, 0.1)' }}>\n//  \t\t\t\t\t<p style={{ fontSize: '20px', fontWeight: 'bold', marginBottom: '10px' }}>No bids yet.</p>\n//  \t\t\t\t\t<p style={{ fontSize: '16px', color: '#721c24' }}><b>Start bidding</b></p>\n//  \t\t\t\t</div>\n//  \t\t\t)}\n//  \t\t\t<div>\n//  \t\t\t\t<Link to=\"/bidderactiveauction\">Back</Link>\n//  \t\t\t</div>\n//         </div>\n\n//         <Clock />\n//       </div>\n//     </>\n//   );\n// }\n\n// export default Bidderauctionview;","map":{"version":3,"names":[],"sources":["D:/Auction/client/src/bidder/Bidderauctionview.jsx"],"sourcesContent":["// import React, { useState, useEffect } from \"react\";\r\n// import { Link, useLocation } from \"react-router-dom\";\r\n// import { Carousel } from \"react-bootstrap\";\r\n// import Biddersidebar from \"./Biddersidebar\";\r\n// import Biddernavbar from \"./Biddernavbar\";\r\n// import Clock from \"../Clock\";\r\n// import Alert from \"./Alert\";\r\n// import CountdownTimer from \"./CountdownTimer\";\r\n// import { toast } from 'react-toastify';\r\n// import 'react-toastify/dist/ReactToastify.css';\r\n\r\n// function Bidderauctionview({ user }) {\r\n//   const location = useLocation();\r\n//   const [data, setData] = useState({ Images: [] });\r\n//   const [bidAmount, setBidAmount] = useState(0);\r\n//   const [bidError, setBidError] = useState(\"\");\r\n//   const [auctionResult, setAuctionResult] = useState(null);\r\n\r\n//   const airway = {\r\n//     color: '#00cccc',\r\n//   };\r\n//   const fetchData = async () => {\r\n//     try {\r\n//       const response = await fetch(`http://localhost:4000/viewproductbyid`, {\r\n//         method: 'post',\r\n//         headers: {\r\n//           'Content-Type': 'application/json',\r\n//         },\r\n//         body: JSON.stringify({ id: location.state.id }),\r\n//       });\r\n\r\n//       const result = await response.json();\r\n//       setData(result);\r\n//       console.log(result);\r\n//     } catch (error) {\r\n//       console.error('Error fetching product data:', error);\r\n//     }\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     fetchData();\r\n//   }, [location.state.id,auctionResult]);\r\n\r\n//   const submitBid = async (e) => {\r\n//     e.preventDefault();\r\n\r\n//     try {\r\n//       const response = await fetch(`http://localhost:4000/submitbid/${location.state.id}/${bidAmount}`, {\r\n//         method: 'post',\r\n//         headers: {\r\n//           'Content-Type': 'application/json',\r\n//         },\r\n//         body: JSON.stringify({ bidderName: user.name }),\r\n//       });\r\n\r\n//       const result = await response.json();\r\n\r\n//       if (result.success) {\r\n// \t\ttoast.success(`Bid amount of Rs.${bidAmount} submitted successfully`, {\r\n// \t\t\tposition: 'top-right',\r\n// \t\t\tautoClose: 2000,\r\n// \t\t});\r\n//         console.log('Bid submitted successfully');\r\n//         fetchData();\r\n// \t\tsetBidAmount(0)\r\n// \t\tsetBidError('')\r\n//       } else {\r\n//         setBidError(result.message);\r\n//       }\r\n//     } catch (error) {\r\n//       console.error('Error submitting bid:', error);\r\n//     }\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     if (data.EndTime && data.BidderName) {\r\n//       const timer = setInterval(() => {\r\n//         const now = new Date();\r\n//         const endTime = new Date(`${data.AuctionDate} ${data.EndTime}`);\r\n\r\n//         if (now > endTime) {\r\n//           if (user.name === data.BidderName || !data.BidderName) {\r\n// \t\t\tsetAuctionResult('Congratulations! You are the winner!');\r\n// \t\t  } else {\r\n// \t\t\tsetAuctionResult(`The winner is ${data.BidderName}`);\r\n// \t\t  }\r\n//         }\r\n//       }, 1000);\r\n\r\n//       return () => clearInterval(timer);\r\n//     }\r\n//   }, [data, user]);\r\n\r\n//   return (\r\n//     <>\r\n//       <Biddersidebar user={user} />\r\n//       <div className=\"content\">\r\n//         <Biddernavbar user={user} />\r\n//         <Clock />\r\n//         <Alert />\r\n\r\n//         <div className=\"col-sm-12 col-xl-12\" style={{ margin: '2px' }}>\r\n//           <div className=\"bg-light rounded h-100 p-4\">\r\n//             <h3 className=\"mb-4\" style={airway}>\r\n//               Active Product Details\r\n//             </h3>\r\n//             <div className=\"row\">\r\n//               <div className=\"col-md-6\">\r\n//                 <p>\r\n//                   <b style={airway}>Product Name:</b>\r\n//                   {data.ProductName}\r\n//                 </p>\r\n//                 <p>\r\n//                   <b style={airway}>Description: </b>\r\n//                   {data.Description}\r\n//                 </p>\r\n//                 <p>\r\n//                   <b style={airway}>Manufacturing Date:</b> {data.Date}\r\n//                 </p>\r\n//                 <p>\r\n//                   <b style={airway}>Category:</b> {data.Category}\r\n//                 </p>\r\n//                 <p>\r\n//                   <b style={airway}>Seller Name:</b> {data.Username}\r\n//                 </p>\r\n//                 <p>\r\n//                   <b style={airway}>Minimum Bid Amount: </b>\r\n//                   {data.Minamount}\r\n//                 </p>\r\n//                 {data.BidAmount && (\r\n//                   <p>\r\n//                     <b style={airway}>Bid Amount: </b>\r\n//                     {data.BidAmount}\r\n//                   </p>\r\n//                 )}\r\n//               </div>\r\n//               <div className=\"col-md-6\">\r\n//                 <Carousel interval={1000}>\r\n//                   {data.Images.map((image, index) => (\r\n//                     <Carousel.Item key={index}>\r\n//                       <img\r\n//                         className=\"d-block w-100\"\r\n//                         style={{ width: '300px', height: '300px' }}\r\n//                         src={`http://localhost:4000/${image}`}\r\n//                         alt={`Slide ${index}`}\r\n//                       />\r\n//                     </Carousel.Item>\r\n//                   ))}\r\n//                 </Carousel>\r\n//               </div>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n\r\n        \r\n// \t\t<div className=\"col-sm-12 col-xl-12\" style={{ margin: '5px' }}>\r\n// \t\t\t<div className=\"bg-light rounded h-100 p-4\" style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\r\n// \t\t\t\t{auctionResult ? (\r\n// \t\t\t\t\t<>\r\n// \t\t\t\t\t\t<p style={{ fontSize: '20px', fontWeight: 'bold',marginRight:'15px' }}>{auctionResult}</p>\r\n// \t\t\t\t\t\t{auctionResult === \"Congratulations! You are the winner!\" \r\n// \t\t\t\t\t\t\t&& ( <Link to=\"/pay\" state={{ id: data._id  ,amount:data.BidAmount,image:data.Images[0]}} >Pay Now</Link>)\r\n// \t\t\t\t\t\t}\r\n// \t\t\t\t\t</>\r\n// \t\t\t\t) : (\r\n// \t\t\t\t<form onSubmit={submitBid}>\r\n// \t\t\t\t\t<label htmlFor=\"bidAmount\">\r\n// \t\t\t\t\t<b style={airway}>\r\n// \t\t\t\t\t\t<span style={{ fontSize: '25px', marginRight: '20px' }}>Enter Bid Amount:</span>\r\n// \t\t\t\t\t</b>\r\n// \t\t\t\t\t</label>\r\n// \t\t\t\t\t<input\r\n// \t\t\t\t\ttype=\"number\"\r\n// \t\t\t\t\tid=\"bidAmount\"\r\n// \t\t\t\t\tvalue={bidAmount}\r\n// \t\t\t\t\tonChange={(e) => setBidAmount(e.target.value)}\r\n// \t\t\t\t\trequired\r\n// \t\t\t\t\tstyle={{ border: '2px solid #00cccc', height: '35px ' }}\r\n// \t\t\t\t\t/>\r\n// \t\t\t\t\t<button type=\"submit\" style={{ backgroundColor: '#00cccc', border: 'none', height: '35px' }}>\r\n// \t\t\t\t\tSubmit Bid\r\n// \t\t\t\t\t</button>\r\n// \t\t\t\t\t{bidError && <p style={{ color: 'red' }}>{bidError}</p>}\r\n// \t\t\t\t</form>\r\n// \t\t\t\t)}\r\n// \t\t\t</div>\r\n// \t\t</div>\r\n\r\n// \t\t<div className=\"bg-light rounded h-100 p-4\" style={{ margin: '5px' }}>\r\n// \t\t\t<div style={{display:'flex',justifyContent:'space-between'}}>\r\n// \t\t\t\t<h3 className=\"mb-4\" style={airway}>Bidding Status</h3>\r\n// \t\t\t\t<CountdownTimer startTime={data.StartTime} endTime={data.EndTime} />\r\n// \t\t\t</div>\r\n// \t\t\t{data.bids && data.bids.length > 0 ? (\r\n// \t\t\t\t<table className=\"table table-bordered\" style={{ border: '2px solid #00cccc' }}>\r\n// \t\t\t\t<thead style={airway}>\r\n// \t\t\t\t\t<tr>\r\n// \t\t\t\t\t<th scope=\"col\">S.No</th>\r\n// \t\t\t\t\t<th scope=\"col\">Bidder Name</th>\r\n// \t\t\t\t\t<th scope=\"col\">Bid Amount</th>\r\n// \t\t\t\t\t</tr>\r\n// \t\t\t\t</thead>\r\n// \t\t\t\t<tbody>\r\n// \t\t\t\t\t{data.bids.map((bid, index) => (\r\n// \t\t\t\t\t<tr key={index}>\r\n// \t\t\t\t\t\t<td>{index + 1}</td>\r\n// \t\t\t\t\t\t<td>{bid.bidderName}</td>\r\n// \t\t\t\t\t\t<td>{bid.bidAmount}</td>\r\n// \t\t\t\t\t</tr>\r\n// \t\t\t\t\t))}\r\n// \t\t\t\t</tbody>\r\n// \t\t\t\t</table>\r\n// \t\t\t) : (\r\n// \t\t\t\t<div style={{ textAlign: 'center', padding: '20px', background: '#F0FFFF', color: '#721c24', borderRadius: '10px', border: '2px solid #ADD8E6', boxShadow: '0 0 10px rgba(0, 0, 0, 0.1)' }}>\r\n// \t\t\t\t\t<p style={{ fontSize: '20px', fontWeight: 'bold', marginBottom: '10px' }}>No bids yet.</p>\r\n// \t\t\t\t\t<p style={{ fontSize: '16px', color: '#721c24' }}><b>Start bidding</b></p>\r\n// \t\t\t\t</div>\r\n// \t\t\t)}\r\n// \t\t\t<div>\r\n// \t\t\t\t<Link to=\"/bidderactiveauction\">Back</Link>\r\n// \t\t\t</div>\r\n// \t\t</div>\r\n\r\n\r\n//         <Clock />\r\n//       </div>\r\n//     </>\r\n//   );\r\n// }\r\n\r\n// export default Bidderauctionview;\r\n\r\n\r\n// import React, { useState, useEffect } from \"react\";\r\n// import { Link, useLocation, useNavigate } from \"react-router-dom\";\r\n// import { Carousel } from \"react-bootstrap\";\r\n// import Biddersidebar from \"./Biddersidebar\";\r\n// import Biddernavbar from \"./Biddernavbar\";\r\n// import Clock from \"../Clock\";\r\n// import Alert from \"./Alert\";\r\n// import CountdownTimer from \"./CountdownTimer\";\r\n// import { toast } from \"react-toastify\";\r\n// import \"react-toastify/dist/ReactToastify.css\";\r\n\r\n// function Bidderauctionview({ user }) {\r\n//   const location = useLocation();\r\n//   const navigate = useNavigate();\r\n\r\n//   const [data, setData] = useState({ Images: [] });\r\n//   const [bidAmount, setBidAmount] = useState(0);\r\n//   const [bidError, setBidError] = useState(\"\");\r\n//   const [auctionResult, setAuctionResult] = useState(null);\r\n\r\n//   const airway = {\r\n//     color: '#00cccc',\r\n//   };\r\n\r\n//   const fetchData = async () => {\r\n//     try {\r\n//       const response = await fetch(`http://localhost:4000/viewproductbyid`, {\r\n//         method: 'post',\r\n//         headers: {\r\n//           'Content-Type': 'application/json',\r\n//         },\r\n//         body: JSON.stringify({ id: location.state.id }),\r\n//       });\r\n\r\n//       const result = await response.json();\r\n//       setData(result);\r\n//       console.log(result);\r\n//     } catch (error) {\r\n//       console.error('Error fetching product data:', error);\r\n//     }\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     fetchData();\r\n//   }, [location.state.id, auctionResult]);\r\n\r\n//   const submitBid = async (e) => {\r\n//     e.preventDefault();\r\n\r\n//     try {\r\n//       const response = await fetch(`http://localhost:4000/submitbid/${location.state.id}/${bidAmount}`, {\r\n//         method: 'post',\r\n//         headers: {\r\n//           'Content-Type': 'application/json',\r\n//         },\r\n//         body: JSON.stringify({ bidderName: user.name }),\r\n//       });\r\n\r\n//       const result = await response.json();\r\n\r\n//       if (result.success) {\r\n//         toast.success(`Bid amount of Rs.${bidAmount} submitted successfully`, {\r\n//           position: 'top-right',\r\n//           autoClose: 2000,\r\n//         });\r\n\r\n//         if (result.payNow) {\r\n//           // Redirect to the payment page with necessary data\r\n//           navigate(\"/pay\", {\r\n//             state: {\r\n//               id: data._id,\r\n//               amount: data.BidAmount,\r\n\r\n//             },\r\n//           });\r\n//         }\r\n\r\n//         fetchData();\r\n//         setBidAmount(0);\r\n//         setBidError('');\r\n//       } else {\r\n//         setBidError(result.message);\r\n//       }\r\n//     } catch (error) {\r\n//       console.error('Error submitting bid:', error);\r\n//     }\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     if (data.EndTime && data.BidderName) {\r\n//       const timer = setInterval(() => {\r\n//         const now = new Date();\r\n//         const endTime = new Date(`${data.AuctionDate} ${data.EndTime}`);\r\n\r\n//         if (now > endTime) {\r\n//           if (user.name === data.BidderName || !data.BidderName) {\r\n//             setAuctionResult('Congratulations! You are the winner!');\r\n//           } else {\r\n//             setAuctionResult(`The winner is ${data.BidderName}`);\r\n//           }\r\n//         }\r\n//       }, 1000);\r\n\r\n//       return () => clearInterval(timer);\r\n//     }\r\n//   }, [data, user]);\r\n\r\n//   return (\r\n//     <>\r\n//       <Biddersidebar user={user} />\r\n//       <div className=\"content\">\r\n//         <Biddernavbar user={user} />\r\n//         <Clock />\r\n//         <Alert />\r\n\r\n//         <div className=\"col-sm-12 col-xl-12\" style={{ margin: '2px' }}>\r\n// \t\t    <div className=\"bg-light rounded h-100 p-4\">\r\n//              <h3 className=\"mb-4\" style={airway}>\r\n//                Active Product Details\r\n//              </h3>\r\n//              <div className=\"row\">\r\n//                <div className=\"col-md-6\">\r\n//                  <p>\r\n//                    <b style={airway}>Product Name:</b>\r\n//                    {data.ProductName}\r\n//                  </p>\r\n//                  <p>\r\n//                    <b style={airway}>Description: </b>\r\n//                    {data.Description}\r\n//                  </p>\r\n//                  <p>\r\n//                    <b style={airway}>Manufacturing Date:</b> {data.Date}\r\n//                  </p>\r\n//                  <p>\r\n//                    <b style={airway}>Category:</b> {data.Category}\r\n//                  </p>\r\n//                  <p>\r\n//                    <b style={airway}>Seller Name:</b> {data.Username}\r\n//                  </p>\r\n//                  <p>\r\n//                    <b style={airway}>Minimum Bid Amount: </b>\r\n//                    {data.Minamount}\r\n//                  </p>\r\n//                  {data.BidAmount && (\r\n//                    <p>\r\n//                      <b style={airway}>Bid Amount: </b>\r\n//                      {data.BidAmount}\r\n//                    </p>\r\n//                  )}\r\n//                </div>\r\n//                <div className=\"col-md-6\">\r\n//                  <Carousel interval={1000}>\r\n//                    {data.Images.map((image, index) => (\r\n//                      <Carousel.Item key={index}>\r\n//                        <img\r\n//                          className=\"d-block w-100\"\r\n//                          style={{ width: '300px', height: '300px' }}\r\n//                          src={`http:localhost:4000/${image}`}\r\n//                          alt={`Slide ${index}`}\r\n//                        />\r\n//                      </Carousel.Item>\r\n//                    ))}\r\n//                  </Carousel>\r\n//                </div>\r\n//              </div>\r\n//            </div>\r\n//         </div>\r\n\r\n//         <div className=\"col-sm-12 col-xl-12\" style={{ margin: '5px' }}>\r\n//           <div\r\n//             className=\"bg-light rounded h-100 p-4\"\r\n//             style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}\r\n//           >\r\n//             {auctionResult ? (\r\n//               <>\r\n//                 <p style={{ fontSize: '20px', fontWeight: 'bold', marginRight: '15px' }}>{auctionResult}</p>\r\n//                 {auctionResult === \"Congratulations! You are the winner!\" && (\r\n//                   <Link to=\"/pay\">Pay Now</Link>\r\n//                 )}\r\n//               </>\r\n//             ) : (\r\n//               <form onSubmit={submitBid}>\r\n//                 <label htmlFor=\"bidAmount\">\r\n//                   <b style={airway}>\r\n//                     <span style={{ fontSize: '25px', marginRight: '20px' }}>Enter Bid Amount:</span>\r\n//                   </b>\r\n//                 </label>\r\n//                 <input\r\n//                   type=\"number\"\r\n//                   id=\"bidAmount\"\r\n//                   value={bidAmount}\r\n//                   onChange={(e) => setBidAmount(e.target.value)}\r\n//                   required\r\n//                   style={{ border: '2px solid #00cccc', height: '35px ' }}\r\n//                 />\r\n//                 <button type=\"submit\" style={{ backgroundColor: '#00cccc', border: 'none', height: '35px' }}>\r\n//                   Submit Bid\r\n//                 </button>\r\n//                 {bidError && <p style={{ color: 'red' }}>{bidError}</p>}\r\n//               </form>\r\n//             )}\r\n//           </div>\r\n//         </div>\r\n\r\n//         <div className=\"bg-light rounded h-100 p-4\" style={{ margin: '5px' }}>\r\n// \t\t<div style={{display:'flex',justifyContent:'space-between'}}>\r\n//  \t\t\t\t<h3 className=\"mb-4\" style={airway}>Bidding Status</h3>\r\n//  \t\t\t\t<CountdownTimer startTime={data.StartTime} endTime={data.EndTime} />\r\n//  \t\t\t</div>\r\n//  \t\t\t{data.bids && data.bids.length > 0 ? (\r\n//  \t\t\t\t<table className=\"table table-bordered\" style={{ border: '2px solid #00cccc' }}>\r\n//  \t\t\t\t<thead style={airway}>\r\n//  \t\t\t\t\t<tr>\r\n//  \t\t\t\t\t<th scope=\"col\">S.No</th>\r\n//  \t\t\t\t\t<th scope=\"col\">Bidder Name</th>\r\n//  \t\t\t\t\t<th scope=\"col\">Bid Amount</th>\r\n//  \t\t\t\t\t</tr>\r\n//  \t\t\t\t</thead>\r\n//  \t\t\t\t<tbody>\r\n//  \t\t\t\t\t{data.bids.map((bid, index) => (\r\n//  \t\t\t\t\t<tr key={index}>\r\n//  \t\t\t\t\t\t<td>{index + 1}</td>\r\n//  \t\t\t\t\t\t<td>{bid.bidderName}</td>\r\n//  \t\t\t\t\t\t<td>{bid.bidAmount}</td>\r\n//  \t\t\t\t\t</tr>\r\n//  \t\t\t\t\t))}\r\n//  \t\t\t\t</tbody>\r\n//  \t\t\t\t</table>\r\n//  \t\t\t) : (\r\n//  \t\t\t\t<div style={{ textAlign: 'center', padding: '20px', background: '#F0FFFF', color: '#721c24', borderRadius: '10px', border: '2px solid #ADD8E6', boxShadow: '0 0 10px rgba(0, 0, 0, 0.1)' }}>\r\n//  \t\t\t\t\t<p style={{ fontSize: '20px', fontWeight: 'bold', marginBottom: '10px' }}>No bids yet.</p>\r\n//  \t\t\t\t\t<p style={{ fontSize: '16px', color: '#721c24' }}><b>Start bidding</b></p>\r\n//  \t\t\t\t</div>\r\n//  \t\t\t)}\r\n//  \t\t\t<div>\r\n//  \t\t\t\t<Link to=\"/bidderactiveauction\">Back</Link>\r\n//  \t\t\t</div>\r\n//         </div>\r\n\r\n//         <Clock />\r\n//       </div>\r\n//     </>\r\n//   );\r\n// }\r\n\r\n// export default Bidderauctionview;\r\n\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}