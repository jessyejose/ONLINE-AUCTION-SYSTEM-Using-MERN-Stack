{"ast":null,"code":"var _jsxFileName = \"D:\\\\Auction\\\\client\\\\src\\\\seller\\\\Alert.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Alert({\n  user\n}) {\n  _s();\n  const [data, setData] = useState([]);\n  const [currentTime, setCurrentTime] = useState(new Date());\n  const [showAlert, hideAlert] = useState(false);\n  useEffect(() => {\n    fetch('http://localhost:4000/viewproduct').then(res => res.json()).then(result => {\n      setData(result);\n      console.log(\"Fetched data:\", result);\n    });\n    const intervalId = setInterval(() => {\n      setCurrentTime(new Date());\n    }, 1000);\n    return () => clearInterval(intervalId);\n  }, []);\n  useEffect(() => {\n    const activeAuctions = data.filter(product => {\n      if (product.status === 1 && product.AuctionDate && product.StartTime && product.EndTime && product.Username === user.name) {\n        const auctionStartTime = new Date(`${product.AuctionDate}T${product.StartTime}:00`);\n        const auctionEndTime = new Date(`${product.AuctionDate}T${product.EndTime}:00`);\n        return currentTime >= auctionStartTime && currentTime <= auctionEndTime;\n      }\n      return false;\n    });\n    hideAlert(activeAuctions.length > 0);\n  }, [data, currentTime]);\n  useEffect(() => {\n    if (showAlert) {\n      const intervalId = setInterval(() => {\n        hideAlert(prevShowAlert => !prevShowAlert);\n      }, 1000);\n      return () => clearInterval(intervalId);\n    }\n  }, [showAlert]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: showAlert && /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/selleractiveauction\",\n      onClick: hideAlert,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'fixed',\n          top: '70px',\n          right: '10px',\n          backgroundColor: '#28A745',\n          color: 'white',\n          padding: '10px',\n          borderRadius: '50%',\n          zIndex: '1000'\n        },\n        children: [\"Active\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 19\n        }, this), \" Auction\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n_s(Alert, \"QXZ59vRCDc6W04Q4VUOLZVg5CjE=\");\n_c = Alert;\nexport default Alert;\nvar _c;\n$RefreshReg$(_c, \"Alert\");","map":{"version":3,"names":["React","useEffect","useState","Link","jsxDEV","_jsxDEV","Fragment","_Fragment","Alert","user","_s","data","setData","currentTime","setCurrentTime","Date","showAlert","hideAlert","fetch","then","res","json","result","console","log","intervalId","setInterval","clearInterval","activeAuctions","filter","product","status","AuctionDate","StartTime","EndTime","Username","name","auctionStartTime","auctionEndTime","length","prevShowAlert","children","to","onClick","style","position","top","right","backgroundColor","color","padding","borderRadius","zIndex","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Auction/client/src/seller/Alert.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Alert({user}) {\r\n  const [data, setData] = useState([]);\r\n  const [currentTime, setCurrentTime] = useState(new Date());\r\n  const [showAlert, hideAlert] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:4000/viewproduct')\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setData(result);\r\n        console.log(\"Fetched data:\", result);\r\n      });\r\n\r\n    const intervalId = setInterval(() => {\r\n      setCurrentTime(new Date());\r\n    }, 1000);\r\n\r\n    return () => clearInterval(intervalId);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const activeAuctions = data.filter((product) => {\r\n      if (product.status === 1 && product.AuctionDate && product.StartTime && product.EndTime && product.Username===user.name) {\r\n        const auctionStartTime = new Date(`${product.AuctionDate}T${product.StartTime}:00`);\r\n        const auctionEndTime = new Date(`${product.AuctionDate}T${product.EndTime}:00`);\r\n\r\n        return currentTime >= auctionStartTime && currentTime <= auctionEndTime;\r\n      }\r\n\r\n      return false;\r\n    });\r\n\r\n    hideAlert(activeAuctions.length > 0);\r\n\r\n  }, [data, currentTime]);\r\n\r\n  useEffect(() => {\r\n    if (showAlert) {\r\n      const intervalId = setInterval(() => {\r\n        hideAlert((prevShowAlert) => !prevShowAlert);\r\n      }, 1000); \r\n      return () => clearInterval(intervalId);\r\n    }\r\n  }, [showAlert]);\r\n\r\n  return (\r\n    <>\r\n      {showAlert && (\r\n        <Link to=\"/selleractiveauction\" onClick={hideAlert}>\r\n          <div\r\n            style={{\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t\ttop: '70px',\r\n\t\t\t\tright: '10px',\r\n\t\t\t\tbackgroundColor: '#28A745',\r\n\t\t\t\tcolor: 'white',\r\n\t\t\t\tpadding: '10px',\r\n\t\t\t\tborderRadius: '50%',\r\n\t\t\t\tzIndex: '1000',\r\n            }}\r\n          >\r\n            Active<br/> Auction \r\n          </div>\r\n        </Link>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Alert;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}